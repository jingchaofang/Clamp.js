<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="">
    <title></title>
    <style>
    * {
        margin: 0;
        padding: 0;
    }

    section {
        font-size: 14px;
        color: #000;
        margin: 30px;
    }

    .ellipsis {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    .clamp {
        text-overflow: ellipsis;
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
    }

    .clamp1 {
        -webkit-line-clamp: 1;
    }

    .clamp2 {
        -webkit-line-clamp: 4;
    }

    .tag {
        display: inline-block;
        padding: 0 8px;
        height: 20px;
        line-height: 21px;
        font-size: 11px;
        color: rgba(54, 58, 61, 0.35);
        border: 1px solid;
        position: relative;
        border-radius: 4px;
        vertical-align: bottom;
        white-space: nowrap;
        margin: 10px 8px 0 0;
    }
    .triangle {
        display: inline-block;
        width: 4px;
        height: 4px;
    }
    .triangle {
        display: inline-block;
        width: 0;
        height: 0;
        border: 4px solid;
        margin-left: 12px;
    }
    .down {
        border-color: #000 transparent transparent;
        vertical-align: -0.25ex;
    }
    .up {
        border-color: transparent transparent #000;
        vertical-align: 0.25ex;
    }
    </style>
</head>

<body>
    <section class="clamp clamp2">
        一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本
    </section>
    <section class="ellipsis">
        一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本
    </section>
    <section class="clamp clamp1">
        一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本
    </section>
    <section>
        <div id="intro" style="overflow: hidden; height: 60px;">
            一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本一段很长的文本
        </div>
        <div id="tags" style="overflow: hidden; height: 32px;">
            <span class="tag">村上春树</span>
            <span class="tag">村上春树</span>
            <span class="tag">日本文学</span>
            <span class="tag">超现实</span>
            <span class="tag">现代</span>
            <span class="tag">现代</span>
        </div>
    </section>
</body>
<script src="zepto.min.js"></script>
<script src="../clamp.zepto.js"></script>
<script>
$(function() {

    var $tags = $('#tags');
    // tag被隐藏
    if ($tags.get(0).scrollHeight > $tags.get(0).clientHeight) {
        
    }

    var $intro = $('#intro');
    var clampResult = $intro.clamp({
        hasHeight: true,
        useNativeClamp: false,
        clamp: 3,
        truncationHTML: '...<span class="triangle down"></span>'
    });
    console.log(clampResult.originalText);
});
</script>

</html>